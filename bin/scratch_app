#!/usr/bin/env raku
use v6.d;
use lib 'lib';
use LLM::Client::OpenAI;
use LLM::Messages;

my $messages = LLM::Messages.new;
$messages.build-messages('You are a helpful assistant.', LLM::Messages.SYSTEM);
$messages.build-messages('Knock knock.', LLM::Messages.USER);
$messages.build-messages("Who's there?", LLM::Messages.ASSISTANT);
$messages.build-messages('Orange.', LLM::Messages.USER);

my $client = LLM::Client::OpenAI.new();
my $response = $client.completion-string($messages.get-messages());

say $response;